openapi: 3.0.0
info:
  title: SMS
  version: '1.0'
  contact:
    name: Support
    url: www.sinch.com
    email: Support@sinch.com
  license:
    name: MIT
  description: 'he most feature rich API that Sinch offers is the SMS REST API. Single messages, scheduled batch send-outs, using message templates and more.'
servers:
  - url: 'https://us.sms.api.sinch.com/'
    description: General api
paths:
  '/xms/v1/{service_plan_id}/batches':
    post:
      summary: Send
      operationId: SendSMS
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: string
                    description: Unique identifier for batch.
                  created_at:
                    type: string
                    description: "\tTimestamp for when batch was created."
                  modified_at:
                    type: string
                    description: Timestamp for when batch was last updated.
                  canceled:
                    type: boolean
                    description: Indicates if the batch has been canceled or not.
      description: |-
        Send an SMS message, Depending on the length of the body one message might be split into [multiple parts](https://developers.sinch.com/docs/sms-rest-message-body#section-long-messages) and charged accordingly.

        Any groups targeted in a scheduled batch will be evaluated at the time of sending. If a group is deleted between batch creation and scheduled date it will be considered empty.
      tags:
        - SMS
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                to:
                  type: string
                  description: List of MSISDNs and group IDs that will receive the batch.
                  example: '+15551231234'
                from:
                  type: string
                  description: "Sender number. \n\nIf Automatic Default Originator not configured.\n"
                type:
                  type: string
                  default: mt_text
                  description: Identifies the type of batch message.
                body:
                  type: string
                  description: "The message content. Normal text string for mt_text and Base64 encoded for mt_binary. \n\nMax 1600 chars for mt_text and max 140 bytes together with udh for mt_binary."
                udh:
                  type: string
                  description: "The UDH header of a binary message. Max 140 bytes together with body. \n\nRequired iftype is mt_binary."
                campain_id:
                  type: string
                  description: "The campaign/service ID this message belongs to. \n\nUS only.\t"
                delivery_report:
                  type: string
                  description: "Request delivery report callback. \n\nNote that delivery reports can be fetched from the API regardless of this setting. \n\nValid types are none, summary, full and per_recipient\t"
                send_at:
                  type: string
                  description: "If set in the future the message will be delayed until send_at occurs.\n\nMust be before expire_at. \n \nIf set in the past messages will be sent immediately.\t"
                expire_at:
                  type: string
                  default: 3 days after send_at
                  description: |-
                    If set the system will stop trying to deliver the message at this point.

                     Must be after send_at. 3 days after send_at.
                callback_url:
                  type: string
                  description: |-
                    Override the default callback URL for this batch.

                    Must be valid URL.

                    Max 2048 characters long.
                flash_message:
                  type: boolean
                  default: false
                  description: |-
                    Shows message on screen without user interaction while not saving the message to the inbox.

                    true or false.
                parameters:
                  type: object
                  description: "Contains the parameters that will be used for customizing the message for each recipient. \n\nNot applicable to if type is mt_binary\n\n[Click here to learn more about parameters](https://developers.sinch.com/docs/sms-rest-parameterization)"
                  properties:
                    '{parameter_key}':
                      type: string
                      description: |-
                        The name of the parameter that will be replaced in the message body.

                        Letters A-Z and a-z, digits 0-9 and .-_ allowed. Max 16 characters long
                    '{parameter_key}.{msisdn}':
                      type: string
                      description: |-
                        The recipient that should get this value

                        Max 160 characters long
                    '{parameter_key}.default':
                      type: string
                      description: |-
                        The fall back value for omitted recipient MSISDNs

                        Max 160 characters long
                client_reference:
                  type: string
                  description: |-
                    The client identifier of batch message. If set, it will be added in the delivery report/callback of this batch

                    Max 128 characters long
                max_number_of_message_parts:
                  type: string
                  description: |-
                    Message will be dispatched only if it is not split to more parts than Max Number of Message Parts

                    Must be higher or equal 1
              required:
                - to
                - type
                - body
                - delivery_report
        description: ''
    parameters:
      - schema:
          type: string
        name: service_plan_id
        in: path
        required: true
    get:
      summary: List Batches
      operationId: ListBatches
      responses:
        '200':
          description: OK
          headers: {}
          content:
            application/json:
              schema:
                type: object
                properties:
                  page:
                    type: integer
                    description: The requested page.
                  count:
                    type: integer
                    description: The total number of batches matching the given filters.
                  page_size:
                    type: integer
                    description: The number of batches returned in this request
                  batches:
                    type: array
                    items:
                      type: object
                      properties:
                        id:
                          type: string
                          description: Unique identifier for batch
                        created_at:
                          type: string
                          description: |-
                            Timestamp for when batch was created.

                            ISO-8601 format
                        modified_at:
                          type: string
                          description: |-
                            Timestamp for when batch was last updated.

                            ISO-8601 format
                        canceled:
                          type: boolean
                          description: Indicates if the batch has been canceled or not.
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                page:
                  description: |-
                    The page number starting from 0.

                    Default:
                    0

                    Constraints:
                    0 or larger
                  type: integer
                page_size:
                  type: integer
                  description: |-
                    Determines the size of a page.

                    Default:
                    30

                    Constraints:
                    max 100
                to:
                  type: string
                  description: 'nly list messages set to this destination. Multiple phone numbers formated as [e164](https://en.wikipedia.org/wiki/E.164) can be comma separated. '
                start_date:
                  type: string
                  description: |-
                    Only list messages received at or after this date time formated as [ISO-8601](https://en.wikipedia.org/wiki/ISO_8601)

                    Default:
                    Now-24
                end_date:
                  type: string
                  description: 'Only list messages received before this date time formated as [ISO-8601](https://en.wikipedia.org/wiki/ISO_8601)'
            examples: {}
        description: ''
      description: With the list operation you can list batch messages created in the last 14 days that you have created. This operation supports pagination.
  '/xms/v1/{service_plan_id}/inbounds':
    parameters:
      - type: string
        name: service_plan_id
        in: path
        required: true
    tags:
      - SMS
    get:
      summary: Incoming Messages
      tags: []
      responses:
        '200':
          description: OK
          headers: {}
          content:
            application/json:
              schema:
                type: object
                properties:
                  page:
                    type: integer
                    description: The requested page.
                  page_size:
                    type: integer
                    description: The number of inbounds returned in this request.
                  count:
                    type: integer
                    description: The total number of inbounds matching the given filters
                  inbounds:
                    type: array
                    description: The page of inbounds matching the given filters
                    items:
                      type: object
                      description: ''
                      properties:
                        type:
                          type: string
                          description: The object type. Either mo_text or mo_binary.
                        id:
                          type: string
                          description: The ID of this inbound message.
                        from:
                          type: string
                          description: The originator phone number
                        to:
                          type: string
                          description: The destination phone number or short code.
                        body:
                          type: string
                          description: 'Message body, Base64 encoded if type is mo_binary.'
                        operator_id:
                          type: string
                          description: "The MCCMNC of the sender's operator if known."
                        sent_at:
                          type: string
                          description: |-
                            When the message left the originating device. Only available if provided by operator.

                            Formated as ISO-8601.
                        recieved_at:
                          type: string
                          description: |-
                            When the system received the message.

                            Formated as ISO-8601.
      operationId: Inbounds
      parameters:
        - schema:
            type: integer
          in: query
          name: page
          description: "The page number starting from 0\n\nconstraints: \n0 or larger\n\nDefault:\n0"
        - schema:
            type: integer
          in: query
          name: page_size
          description: |-
            Determines the size of a page

            Constraints:
            Max 100

            Default:
            30
        - schema:
            type: string
          in: query
          name: to
          description: 'Only list messages set to this destination. Multiple phone numbers formated as [e164](https://en.wikipedia.org/wiki/E.164) can be comma separated. '
        - schema:
            type: string
          in: query
          name: start_date
          description: |-
            Only list messages received at or after this date time formated as [ISO-8601](https://en.wikipedia.org/wiki/ISO_8601)

            Default:
            Now-24
        - schema:
            type: string
          in: query
          name: end_date
          description: 'Only list messages received before this date time formated as [ISO-8601](https://en.wikipedia.org/wiki/ISO_8601)'
      description: 'Inbounds, or Mobile Originated messages, are incoming messages. Inbound messages can be listed and retrieved like batch messages and they can also be delivered by callback requests like delivery reports.'
  '/xms/v1/{service_plan_id}/batches/dry_run':
    parameters:
      - type: string
        name: service_plan_id
        in: path
        required: true
    get:
      summary: Your GET endpoint
      tags: []
      responses: {}
      operationId: 'get-xms-v1-{service_plan_id}-batches-dry_run'
    post:
      summary: ''
      operationId: Dry_Run
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  number_of_recipients:
                    type: integer
                    description: The number of recipents in the batch
                  number_of_messages:
                    type: integer
                    description: The total number of SMS message parts to be sent in the batch
                  per_recipient:
                    type: array
                    description: 'The recipient, the number of message parts to this recipient, the body of the message, and the encoding type of each message'
                    items:
                      type: object
                      properties:
                        recipient:
                          type: string
                        message_part:
                          type: string
                        body:
                          type: string
                        encoding:
                          type: string
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                to:
                  type: string
                  description: List of MSISDNs and group IDs that will receive the batch.
                  example: '+15551231234'
                from:
                  type: string
                  description: "Sender number. \n\nIf Automatic Default Originator not configured.\n"
                type:
                  type: string
                  default: mt_text
                  description: Identifies the type of batch message.
                body:
                  type: string
                  description: "The message content. Normal text string for mt_text and Base64 encoded for mt_binary. \n\nMax 1600 chars for mt_text and max 140 bytes together with udh for mt_binary."
                udh:
                  type: string
                  description: "The UDH header of a binary message. Max 140 bytes together with body. \n\nRequired iftype is mt_binary."
                campain_id:
                  type: string
                  description: "The campaign/service ID this message belongs to. \n\nUS only.\t"
                delivery_report:
                  type: string
                  description: "Request delivery report callback. \n\nNote that delivery reports can be fetched from the API regardless of this setting. \n\nValid types are none, summary, full and per_recipient\t"
                send_at:
                  type: string
                  description: "If set in the future the message will be delayed until send_at occurs.\n\nMust be before expire_at. \n \nIf set in the past messages will be sent immediately.\t"
                expire_at:
                  type: string
                  default: 3 days after send_at
                  description: |-
                    If set the system will stop trying to deliver the message at this point.

                     Must be after send_at. 3 days after send_at.
                callback_url:
                  type: string
                  description: |-
                    Override the default callback URL for this batch.

                    Must be valid URL.

                    Max 2048 characters long.
                flash_message:
                  type: boolean
                  default: false
                  description: |-
                    Shows message on screen without user interaction while not saving the message to the inbox.

                    true or false.
                parameters:
                  type: object
                  description: "Contains the parameters that will be used for customizing the message for each recipient. \n\nNot applicable to if type is mt_binary\n\n[Click here to learn more about parameters](https://developers.sinch.com/docs/sms-rest-parameterization)"
                  properties:
                    '{parameter_key}':
                      type: string
                      description: |-
                        The name of the parameter that will be replaced in the message body.

                        Letters A-Z and a-z, digits 0-9 and .-_ allowed. Max 16 characters long
                    '{parameter_key}.{msisdn}':
                      type: string
                      description: |-
                        The recipient that should get this value

                        Max 160 characters long
                    '{parameter_key}.default':
                      type: string
                      description: |-
                        The fall back value for omitted recipient MSISDNs

                        Max 160 characters long
                client_reference:
                  type: string
                  description: |-
                    The client identifier of batch message. If set, it will be added in the delivery report/callback of this batch

                    Max 128 characters long
                max_number_of_message_parts:
                  type: string
                  description: |-
                    Message will be dispatched only if it is not split to more parts than Max Number of Message Parts

                    Must be higher or equal 1
              required:
                - to
                - type
                - body
                - delivery_report
      parameters:
        - schema:
            type: boolean
          in: query
          name: per_recipient
        - schema:
            type: integer
          in: query
          name: number_of_recipients
      description: This operation will perform a dry run of a batch which calculates the bodies and number of parts for all messages in the batch without actually sending any messages.
  '/xms/v1/{service_plan_id}/batches/{id}':
    parameters:
      - type: string
        name: service_plan_id
        in: path
        required: true
      - type: string
        name: id
        in: path
        required: true
    get:
      summary: Your GET endpoint
      tags: []
      responses: {}
      operationId: 'get-xms-v1-{service_plan_id}-batches-{id}'
    post:
      summary: ''
      operationId: Batches_ID
      responses:
        '200':
          description: OK
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                toAdd:
                  type: array
                  description: |-
                    List of phone numbers and group IDs to add to the batch.

                    Constraints:
                    1 to 100 elements.
                  items:
                    type: string
                toRemove:
                  description: "List of phone numbers and group IDs to remove from the batch.\t\n\nconstraints:\n1 to 100 elements."
                  type: array
                  items:
                    type: string
                from:
                  type: string
                  description: |-
                    Sender number.

                    Default:
                    Must be valid phone number, short code or alphanumeric.
                body:
                  type: string
                  description: |-
                    The message content. Normal text string for mt_text and Base64 encoded for mt_binary.

                    Constraints:
                    Max 1600 chars for mt_text and max 140 bytes together with udh for mt_binary
                campaign_id:
                  type: string
                  description: The campaign/service ID this message belongs to. US only.
                delivery_report:
                  type: string
                  description: |-
                    Request delivery report callback. Note that delivery reports can be fetched from the API regardless of this setting.

                    Constraintas:
                    Valid types are none, summary, full and per_recipient
                send_at:
                  type: string
                  description: |-
                    f set in the future the message will be delayed until send_at occurs. ISO-8601 format.

                    Constraints:
                    Must be before expire_at. If set in the past messages will be sent immediately.
                expire_at:
                  type: string
                  description: |-
                    If set the system will stop trying to deliver the message at this point.

                    Constraints:
                    Must be after send_at

                    Default:
                    3 days after send_at
                callback_url:
                  type: string
                  description: |-
                    Override the default callback URL for this batch.

                    Constraints:
                    Must be valid URL. Max 2048 characters long.
      description: This operation will update all provided parameters of a batch for the given batch ID.
  '/xms/v1/{service_plan_id}/batches/{batch_id}/delivery_report':
    parameters:
      - type: string
        name: service_plan_id
        in: path
        required: true
      - type: string
        name: batch_id
        in: path
        required: true
    get:
      summary: Your GET endpoint
      tags: []
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  type:
                    type: string
                    description: The object type. Will always be delivery_report_sms
                  batch_id:
                    type: string
                    description: The ID of the batch this delivery report belongs to
                  total_message_count:
                    type: string
                    description: The total number of messages for the batch
                  statuses:
                    type: object
                    description: Array with status objects. Only status codes with at least one recipient will be listed.
                    properties:
                      statuses.code:
                        description: The detailed status code. See Error Codes
                        type: integer
                      statuses.status:
                        type: string
                        description: The simplified status as described in Delivery Report Statuses
                      statuses.count:
                        description: The number of messages that currently has this code. Will always be at least 1
                        type: integer
                      statuses.recipients:
                        type: array
                        description: Only for full report. A list of the phone number recipients which messages has this status code.
                        items:
                          type: string
                  client_reference:
                    type: string
                    description: 'The client identifier of the batch this delivery report belongs to, if set when submitting batch.'
      operationId: Delivery_report
      parameters:
        - schema:
            type: string
          in: query
          name: type
          description: "The type of delivery report. \n\nConstraints:\nMust be summarty or full\n\nDefault:\nsummary"
          required: true
        - schema:
            type: string
          in: query
          name: status
          description: Comma separated list of delivery_report_statuses to include
        - schema:
            type: string
          in: query
          name: code
          description: "\tComma separated list of delivery_receipt_error_codes to include"
      description: Delivery reports can be retrieved even if no callback was requested. The difference between a summary and a full report is only that the full report contains the actual MSISDNs for each status code.
  '/xms/v1/{service_plan_id}/batches/{batch_id}/delivery_report/{recipient_msisdn}':
    parameters:
      - type: string
        name: service_plan_id
        in: path
        required: true
      - type: string
        name: batch_id
        in: path
        required: true
      - type: string
        name: recipient_msisdn
        in: path
        required: true
    get:
      summary: Your GET endpoint
      tags: []
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  type:
                    type: string
                    description: The object type. Will always be _recipient_delivery_report_sms
                  batch_id:
                    type: string
                    description: "\tThe ID of the batch this delivery report belongs to"
                  recipient:
                    type: string
                    description: The recipient phone number
                  code:
                    type: integer
                    description: "\tThe detailed status code. See Error Codes"
                  status:
                    type: string
                    description: The simplified status as described in Delivery Report Statuses
                  status_message:
                    type: string
                    description: 'A description of the status, if available.'
                  at:
                    type: string
                    description: |-
                      A timestamp of when the Delivery Report was created in the Sinch service.

                      ISO-8601 format
                  operator_status_at:
                    type: string
                    description: "A timestamp extracted from the Delivery Receipt from the originating SMSC.\n\t\nISO-8601 format"
                  client_reference:
                    type: string
                    description: "\tThe client identifier of the batch this delivery report belongs to, if set when submitting batch."
                  applied_originator:
                    type: string
                    description: 'The default originator used for the recipient this delivery report belongs to, if default originator pool configured and no originator set when submitting batch.'
                  number_of_message_parts:
                    type: integer
                    description: The number of parts the message was split into. Present only if max_number_of_message_parts parameter was set.
        '201':
          description: Created
          content:
            application/json:
              schema:
                type: object
                properties:
                  type:
                    type: string
                    description: The object type. Will always be _recipient_delivery_report_sms
                  batch_id:
                    type: string
                    description: "\tThe ID of the batch this delivery report belongs to"
                  recipient:
                    type: string
                    description: The recipient phone number
                  code:
                    type: integer
                    description: The detailed status code. See Error Codes
                  status:
                    type: string
                    description: The simplified status as described in Delivery Report Statuses
                  status_message:
                    type: string
                    description: 'A description of the status, if available.'
                  at:
                    type: string
                    description: "\tA timestamp of when the Delivery Report was created in the Sinch service"
                  operator_status_at:
                    type: string
                    description: |-
                      A timestamp extracted from the Delivery Receipt from the originating SMSC

                      ISO-8601 format
                  client_referenece:
                    type: string
                    description: |-
                      The client identifier of the batch this delivery report belongs to, if set when submitting batch.

                      ISO-8601 format
                  applied_originator:
                    type: string
                    description: 'The default originator used for the recipient this delivery report belongs to, if default originator pool configured and no originator set when submitting batch.'
                  number_of_message_parts:
                    type: integer
                    description: The number of parts the message was split into. Present only if max_number_of_message_parts parameter was set.
      operationId: Delivery_report_recipient_Phone_Number
      description: A recipient delivery report contains the message status for a single recipient phone number.
components:
  schemas: {}
  securitySchemes:
    apitoken:
      type: http
      scheme: bearer
      description: ''
  parameters:
    service_plan_id:
      in: path
      required: true
      name: service_plan_id
      schema:
        type: string
      description: The service id you wan tto use
      example: 34jklj34piiuui234lllj
tags:
  - name: SMS
    description: Detailed infomration about SMS and content that you can send in SMS
    externalDocs:
      url: 'http://developers.sinch.com.com/docs/sms/sms-rest'
